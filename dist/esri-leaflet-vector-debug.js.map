{"version":3,"file":"esri-leaflet-vector-debug.js","sources":["../src/Util.js","../src/MaplibreGLLayer.js","../src/VectorTileLayer.js","../src/VectorBasemapLayer.js","../src/EsriLeafletVector.js"],"sourcesContent":["import { latLng, latLngBounds } from 'leaflet';\nimport { request, Support, Util } from 'esri-leaflet';\n\n/*\n  utility to establish a URL for the basemap styles API\n  used primarily by VectorBasemapLayer.js\n*/\nexport function getBasemapStyleUrl (style, apikey) {\n  if (style.includes('/')) {\n    throw new Error(\n      style + ' is a v2 style enumeration. Set version:2 to request this style'\n    );\n  }\n\n  let url =\n    'https://basemaps-api.arcgis.com/arcgis/rest/services/styles/' +\n    style +\n    '?type=style';\n  if (apikey) {\n    url = url + '&token=' + apikey;\n  }\n  return url;\n}\n\n/**\n * Utility to establish a URL for the basemap styles API v2\n *\n * @param {string} style\n * @param {string} token\n * @param {Object} [options] Optional list of options: language, worldview, or places.\n * @returns {string} the URL\n */\nexport function getBasemapStyleV2Url (style, token, options) {\n  if (style.startsWith('osm/')) {\n    console.log(\n      \"L.esri.Vector.vectorBasemapLayer: All 'osm/*' styles are retired are no longer receiving updates and were last updated in 2024. Please use 'open/*' styles instead.\"\n    );\n  }\n\n  if (style.includes(':')) {\n    throw new Error(\n      style + ' is a v1 style enumeration. Set version:1 to request this style'\n    );\n  }\n\n  let url =\n    options.baseUrl ||\n    'https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/styles/';\n\n  if (\n    !(\n      style.startsWith('open/') ||\n      style.startsWith('osm/') ||\n      style.startsWith('arcgis/')\n    ) &&\n    style.length === 32\n  ) {\n    // style is an itemID\n    url = url + 'items/' + style;\n\n    if (options.language) {\n      throw new Error(\n        \"The 'language' parameter is not supported for custom basemap styles\"\n      );\n    }\n  } else {\n    url = url + style;\n  }\n\n  if (!token) throw new Error('A token is required to access basemap styles.');\n\n  url = url + '?token=' + token;\n  if (options.language) {\n    url = url + '&language=' + options.language;\n  }\n  if (options.worldview) {\n    url = url + '&worldview=' + options.worldview;\n  }\n  if (options.places) {\n    url = url + '&places=' + options.places;\n  }\n  return url;\n}\n/*\n  utilities to communicate with custom user styles via an ITEM ID or SERVICE URL\n  used primarily by VectorTileLayer.js\n*/\nexport function loadStyle (idOrUrl, options, callback) {\n  const httpRegex = /^https?:\\/\\//;\n  const serviceRegex = /\\/VectorTileServer\\/?$/;\n\n  if (httpRegex.test(idOrUrl) && serviceRegex.test(idOrUrl)) {\n    const serviceUrl = idOrUrl;\n    loadStyleFromService(serviceUrl, options, callback);\n  } else {\n    const itemId = idOrUrl;\n    loadStyleFromItem(itemId, options, callback);\n  }\n}\n\nexport function loadService (serviceUrl, options, callback) {\n  const params = options.token ? { token: options.token } : {};\n  request(serviceUrl, params, callback);\n}\n\nfunction loadItem (itemId, options, callback) {\n  const params = options.token ? { token: options.token } : {};\n  const url = options.portalUrl + '/sharing/rest/content/items/' + itemId;\n  request(url, params, callback);\n}\n\nfunction loadStyleFromItem (itemId, options, callback) {\n  const itemStyleUrl = toCdnUrl(\n    options.portalUrl +\n      '/sharing/rest/content/items/' +\n      itemId +\n      '/resources/styles/root.json'\n  );\n\n  loadStyleFromUrl(itemStyleUrl, options, function (error, style) {\n    if (error) {\n      loadItem(itemId, options, function (error, item) {\n        if (error) {\n          callback(error);\n          return;\n        }\n        loadStyleFromService(item.url, options, callback);\n      });\n    } else {\n      loadItem(itemId, options, function (error, item) {\n        if (error) {\n          callback(error);\n          return;\n        }\n        loadService(item.url, options, function (error, service) {\n          callback(error, style, itemStyleUrl, service, item.url);\n        });\n      });\n    }\n  });\n}\n\nfunction loadStyleFromService (serviceUrl, options, callback) {\n  loadService(serviceUrl, options, function (error, service) {\n    if (error) {\n      callback(error);\n      return;\n    }\n\n    let sanitizedServiceUrl = serviceUrl;\n    // a trailing \"/\" may create invalid paths\n    if (serviceUrl.charAt(serviceUrl.length - 1) === '/') {\n      sanitizedServiceUrl = serviceUrl.slice(0, serviceUrl.length - 1);\n    }\n\n    let defaultStylesUrl;\n    // inadvertently inserting more than 1 adjacent \"/\" may create invalid paths\n    if (service.defaultStyles.charAt(0) === '/') {\n      defaultStylesUrl =\n        sanitizedServiceUrl + service.defaultStyles + '/root.json';\n    } else {\n      defaultStylesUrl =\n        sanitizedServiceUrl + '/' + service.defaultStyles + '/root.json';\n    }\n\n    loadStyleFromUrl(defaultStylesUrl, options, function (error, style) {\n      if (error) {\n        callback(error);\n        return;\n      }\n      callback(null, style, defaultStylesUrl, service, serviceUrl);\n    });\n  });\n}\n\nfunction loadStyleFromUrl (styleUrl, options, callback) {\n  const params = options.token ? { token: options.token } : {};\n  request(styleUrl, params, callback);\n}\n\nfunction isSameTLD (url1, url2) {\n  return new URL(url1).hostname === new URL(url2).hostname;\n}\n\n/**\n * Converts an ArcGIS Online URL to a CDN URL to reduce latency and server load. This will not\n * convert a ArcGIS Enterprise URL since they will be hosting their own resources.\n *\n * Borrowed from the JS API.\n */\nfunction toCdnUrl (url) {\n  if (!url) {\n    return url || null;\n  }\n\n  let outUrl = url;\n\n  if (outUrl) {\n    outUrl = normalizeArcGISOnlineOrgDomain(outUrl);\n    outUrl = outUrl.replace(\n      /^https?:\\/\\/www\\.arcgis\\.com/,\n      'https://cdn.arcgis.com'\n    );\n    outUrl = outUrl.replace(\n      /^https?:\\/\\/devext\\.arcgis\\.com/,\n      'https://cdndev.arcgis.com'\n    );\n    outUrl = outUrl.replace(\n      /^https?:\\/\\/qaext\\.arcgis\\.com/,\n      'https://cdnqa.arcgis.com'\n    );\n  }\n\n  return outUrl;\n}\n\n/**\n * Replaces the AGOL org domains with non-org domains.\n *\n * Borrowed from the JS API.\n */\nfunction normalizeArcGISOnlineOrgDomain (url) {\n  const prdOrg = /^https?:\\/\\/(?:cdn|[a-z\\d-]+\\.maps)\\.arcgis\\.com/i; // https://cdn.arcgis.com or https://x.maps.arcgis.com\n  const devextOrg =\n    /^https?:\\/\\/(?:cdndev|[a-z\\d-]+\\.mapsdevext)\\.arcgis\\.com/i; // https://cdndev.arcgis.com or https://x.mapsdevext.arcgis.com\n  const qaOrg = /^https?:\\/\\/(?:cdnqa|[a-z\\d-]+\\.mapsqa)\\.arcgis\\.com/i; // https://cdnqa.arcgis.com or https://x.mapsqa.arcgis.com\n\n  // replace AGOL org domains with non-org domains\n  if (prdOrg.test(url)) {\n    url = url.replace(prdOrg, 'https://www.arcgis.com');\n  } else if (devextOrg.test(url)) {\n    url = url.replace(devextOrg, 'https://devext.arcgis.com');\n  } else if (qaOrg.test(url)) {\n    url = url.replace(qaOrg, 'https://qaext.arcgis.com');\n  }\n\n  return url;\n}\n\nexport function formatStyle (style, styleUrl, metadata, token) {\n  // transforms style object in place and also returns it\n\n  // modify each source in style.sources\n  const sourcesKeys = Object.keys(style.sources);\n\n  for (let sourceIndex = 0; sourceIndex < sourcesKeys.length; sourceIndex++) {\n    const source = style.sources[sourcesKeys[sourceIndex]];\n\n    // if a relative path is referenced, the default style can be found in a standard location\n    if (source.url.indexOf('http') === -1) {\n      source.url = styleUrl.replace('/resources/styles/root.json', '');\n    }\n\n    // a trailing \"/\" may create invalid paths\n    if (source.url.charAt(source.url.length - 1) === '/') {\n      source.url = source.url.slice(0, source.url.length - 1);\n    }\n\n    // add tiles property if missing\n    if (!source.tiles) {\n      // right now ArcGIS Pro published vector services have a slightly different signature\n      // the '/' is needed in the URL string concatenation below for source.tiles\n      if (metadata.tiles && metadata.tiles[0].charAt(0) !== '/') {\n        metadata.tiles[0] = '/' + metadata.tiles[0];\n      }\n\n      source.tiles = [source.url + metadata.tiles[0]];\n    }\n\n    // some VectorTileServer endpoints may default to returning f=html,\n    // specify f=json to account for that behavior\n    source.url += '?f=json';\n\n    // add the token to the source url and tiles properties as a query param\n    source.url += token ? '&token=' + token : '';\n    source.tiles[0] += token ? '?token=' + token : '';\n    // add minzoom and maxzoom to each source based on the service metadata\n    // prefer minLOD/maxLOD if it exists since that is the level that tiles are cooked too\n    // MapLibre will overzoom for LODs that are not cooked\n    source.minzoom = metadata.minLOD || metadata.tileInfo.lods[0].level;\n    source.maxzoom =\n      metadata.maxLOD ||\n      metadata.tileInfo.lods[metadata.tileInfo.lods.length - 1].level;\n  }\n\n  // add the attribution and copyrightText properties to the last source in style.sources based on the service metadata\n  const lastSource = style.sources[sourcesKeys[sourcesKeys.length - 1]];\n  lastSource.attribution = metadata.copyrightText || '';\n  lastSource.copyrightText = metadata.copyrightText || '';\n\n  // if any layer in style.layers has a layout.text-font property (it will be any array of strings) remove all items in the array after the first\n  for (let layerIndex = 0; layerIndex < style.layers.length; layerIndex++) {\n    const layer = style.layers[layerIndex];\n    if (\n      layer.layout &&\n      layer.layout['text-font'] &&\n      layer.layout['text-font'].length > 1\n    ) {\n      layer.layout['text-font'] = [layer.layout['text-font'][0]];\n    }\n  }\n\n  if (style.sprite && style.sprite.indexOf('http') === -1) {\n    // resolve absolute URL for style.sprite\n    style.sprite = styleUrl.replace(\n      'styles/root.json',\n      style.sprite.replace('../', '')\n    );\n  }\n\n  // Convert the style.glyphs and style.sprite URLs to CDN URLs if possable\n  if (style.glyphs) {\n    style.glyphs = toCdnUrl(style.glyphs);\n  }\n\n  if (style.sprite) {\n    style.sprite = toCdnUrl(style.sprite);\n  }\n\n  // a trailing \"/\" may create invalid paths\n  if (style.sprite && token) {\n    // add the token to the style.sprite property as a query param, only if same domain (for token security)\n    if (isSameTLD(styleUrl, style.sprite)) {\n      style.sprite += '?token=' + token;\n    } else {\n      console.warn(\n        'Passing a token but sprite URL is not on same base URL, so you must pass the token manually.'\n      );\n    }\n  }\n\n  if (style.glyphs && style.glyphs.indexOf('http') === -1) {\n    // resolve absolute URL for style.glyphs\n    style.glyphs = styleUrl.replace(\n      'styles/root.json',\n      style.glyphs.replace('../', '')\n    );\n  }\n\n  if (style.glyphs && token) {\n    // add the token to the style.glyphs property as a query param\n    if (isSameTLD(styleUrl, style.glyphs)) {\n      style.glyphs += '?token=' + token;\n    } else {\n      console.warn(\n        'Passing a token but glyph URL is not on same base URL, so you must pass the token manually.'\n      );\n    }\n  }\n\n  return style;\n}\n\n/*\n  utility to assist with dynamic attribution data\n  used primarily by VectorBasemapLayer.js\n*/\nexport function getAttributionData (url, map) {\n  if (Support.cors) {\n    request(url, {}, function (error, attributions) {\n      if (error) {\n        return;\n      }\n      map._esriAttributions = map._esriAttributions || [];\n      for (let c = 0; c < attributions.contributors.length; c++) {\n        const contributor = attributions.contributors[c];\n\n        for (let i = 0; i < contributor.coverageAreas.length; i++) {\n          const coverageArea = contributor.coverageAreas[i];\n          const southWest = latLng(coverageArea.bbox[0], coverageArea.bbox[1]);\n          const northEast = latLng(coverageArea.bbox[2], coverageArea.bbox[3]);\n          map._esriAttributions.push({\n            attribution: contributor.attribution,\n            score: coverageArea.score,\n            bounds: latLngBounds(southWest, northEast),\n            minZoom: coverageArea.zoomMin,\n            maxZoom: coverageArea.zoomMax\n          });\n        }\n      }\n\n      map._esriAttributions.sort(function (a, b) {\n        return b.score - a.score;\n      });\n\n      // pass the same argument as the map's 'moveend' event\n      const obj = { target: map };\n      Util._updateMapAttribution(obj);\n    });\n  }\n}\n\n/*\n  utility to check if a service's tileInfo spatial reference is in Web Mercator\n  used primarily by VectorTileLayer.js\n*/\nconst WEB_MERCATOR_WKIDS = [3857, 102100, 102113];\n\nexport function isWebMercator (wkid) {\n  return WEB_MERCATOR_WKIDS.indexOf(wkid) >= 0;\n}\n\nexport const EsriUtil = {\n  formatStyle: formatStyle\n};\n\nexport default EsriUtil;\n","import {\n  DomEvent,\n  DomUtil,\n  extend,\n  latLngBounds,\n  Layer,\n  setOptions,\n  Util\n} from 'leaflet';\nimport maplibregl from 'maplibre-gl';\n\nexport const setRTLTextPlugin = (url, callback, deferred) => {\n  maplibregl.setRTLTextPlugin(url, callback, deferred);\n};\n\nexport const MaplibreGLJSLayer = Layer.extend({\n  options: {\n    updateInterval: 32,\n    // How much to extend the overlay view (relative to map size)\n    // e.g. 0.1 would be 10% of map view in each direction\n    padding: 0.1,\n    // whether or not to register the mouse and keyboard\n    // events on the mapbox overlay\n    interactive: false,\n    // set the tilepane as the default pane to draw gl tiles\n    pane: 'tilePane'\n  },\n\n  initialize: function (options) {\n    setOptions(this, options);\n\n    // setup throttling the update event when panning\n    this._throttledUpdate = Util.throttle(\n      this._update,\n      this.options.updateInterval,\n      this\n    );\n  },\n\n  onAdd: function (map) {\n    if (!this._container) {\n      this._initContainer();\n    }\n\n    const paneName = this.getPaneName();\n    map.getPane(paneName).appendChild(this._container);\n\n    this._initGL();\n\n    this._offset = this._map.containerPointToLayerPoint([0, 0]);\n\n    // work around https://github.com/mapbox/mapbox-gl-leaflet/issues/47\n    if (map.options.zoomAnimation) {\n      DomEvent.on(\n        map._proxy,\n        DomUtil.TRANSITION_END,\n        this._transitionEnd,\n        this\n      );\n    }\n  },\n\n  onRemove: function (map) {\n    if (this._map._proxy && this._map.options.zoomAnimation) {\n      DomEvent.off(\n        this._map._proxy,\n        DomUtil.TRANSITION_END,\n        this._transitionEnd,\n        this\n      );\n    }\n\n    const paneName = this.getPaneName();\n\n    map.getPane(paneName).removeChild(this._container);\n    this._container = null;\n\n    this._glMap.remove();\n    this._glMap = null;\n  },\n\n  getEvents: function () {\n    return {\n      move: this._throttledUpdate, // sensibly throttle updating while panning\n      zoomanim: this._animateZoom, // applies the zoom animation to the <canvas>\n      zoom: this._pinchZoom, // animate every zoom event for smoother pinch-zooming\n      zoomstart: this._zoomStart, // flag starting a zoom to disable panning\n      zoomend: this._zoomEnd,\n      resize: this._resize\n    };\n  },\n\n  getMaplibreMap: function () {\n    return this._glMap;\n  },\n\n  getCanvas: function () {\n    return this._glMap.getCanvas();\n  },\n\n  getSize: function () {\n    return this._map.getSize().multiplyBy(1 + this.options.padding * 2);\n  },\n\n  getOpacity: function () {\n    return this.options.opacity;\n  },\n\n  setOpacity: function (opacity) {\n    this.options.opacity = opacity;\n    this._container.style.opacity = opacity;\n  },\n\n  getBounds: function () {\n    const halfSize = this.getSize().multiplyBy(0.5);\n    const center = this._map.latLngToContainerPoint(this._map.getCenter());\n    return latLngBounds(\n      this._map.containerPointToLatLng(center.subtract(halfSize)),\n      this._map.containerPointToLatLng(center.add(halfSize))\n    );\n  },\n\n  getContainer: function () {\n    return this._container;\n  },\n\n  // returns the pane name set in options if it is a valid pane, defaults to tilePane\n  getPaneName: function () {\n    return this._map.getPane(this.options.pane)\n      ? this.options.pane\n      : 'tilePane';\n  },\n\n  _resize: function () {\n    return this._glMap._resize;\n  },\n\n  _initContainer: function () {\n    if (this._container) {\n      return;\n    }\n\n    this._container = DomUtil.create('div', 'leaflet-gl-layer');\n\n    const size = this.getSize();\n    const offset = this._map.getSize().multiplyBy(this.options.padding);\n    this._container.style.width = size.x + 'px';\n    this._container.style.height = size.y + 'px';\n\n    const topLeft = this._map\n      .containerPointToLayerPoint([0, 0])\n      .subtract(offset);\n\n    DomUtil.setPosition(this._container, topLeft);\n  },\n\n  _initGL: function () {\n    if (this._glMap) {\n      return;\n    }\n\n    const center = this._map.getCenter();\n\n    const options = extend({}, this.options, {\n      container: this._container,\n      center: [center.lng, center.lat],\n      zoom: this._map.getZoom() - 1,\n      attributionControl: false\n    });\n\n    this._glMap = new maplibregl.Map(options);\n\n    // Listen for style data error (401 Unauthorized)\n    this._glMap.on('error', function (error) {\n      if (error.error && error.error.status === 401) {\n        console.warn(\n          'Invalid or expired API key. Please check that API key is not expired and has the basemaps privilege assigned.'\n        );\n      }\n    });\n\n    // Fire event for Maplibre \"styledata\" event.\n    this._glMap.once(\n      'styledata',\n      function (res) {\n        this.fire('styleLoaded');\n      }.bind(this)\n    );\n\n    // allow GL base map to pan beyond min/max latitudes\n    this._glMap.transform.latRange = null;\n    this._glMap.transform.maxValidLatitude = Infinity;\n\n    this._transformGL(this._glMap);\n\n    if (this._glMap._canvas.canvas) {\n      // older versions of mapbox-gl surfaced the canvas differently\n      this._glMap._actualCanvas = this._glMap._canvas.canvas;\n    } else {\n      this._glMap._actualCanvas = this._glMap._canvas;\n    }\n\n    // treat child <canvas> element like L.ImageOverlay\n    const canvas = this._glMap._actualCanvas;\n    DomUtil.addClass(canvas, 'leaflet-image-layer');\n    DomUtil.addClass(canvas, 'leaflet-zoom-animated');\n    if (this.options.interactive) {\n      DomUtil.addClass(canvas, 'leaflet-interactive');\n    }\n    if (this.options.className) {\n      DomUtil.addClass(canvas, this.options.className);\n    }\n  },\n\n  _update: function (e) {\n    // update the offset, so we can correct for it later when we zoom\n    this._offset = this._map.containerPointToLayerPoint([0, 0]);\n\n    if (this._zooming) {\n      return;\n    }\n\n    const size = this.getSize();\n    const container = this._container;\n    const gl = this._glMap;\n    const offset = this._map.getSize().multiplyBy(this.options.padding);\n    const topLeft = this._map\n      .containerPointToLayerPoint([0, 0])\n      .subtract(offset);\n\n    DomUtil.setPosition(container, topLeft);\n\n    this._transformGL(gl);\n\n    if (gl.transform.width !== size.x || gl.transform.height !== size.y) {\n      container.style.width = size.x + 'px';\n      container.style.height = size.y + 'px';\n      if (gl._resize !== null && gl._resize !== undefined) {\n        gl._resize();\n      } else {\n        gl.resize();\n      }\n    } else {\n      // older versions of mapbox-gl surfaced update publicly\n      if (gl._update !== null && gl._update !== undefined) {\n        gl._update();\n      } else {\n        gl.update();\n      }\n    }\n  },\n\n  _transformGL: function (gl) {\n    const center = this._map.getCenter();\n\n    // gl.setView([center.lat, center.lng], this._map.getZoom() - 1, 0);\n    // calling setView directly causes sync issues because it uses requestAnimFrame\n\n    const tr = gl.transform;\n    tr.center = maplibregl.LngLat.convert([center.lng, center.lat]);\n    tr.zoom = this._map.getZoom() - 1;\n  },\n\n  // update the map constantly during a pinch zoom\n  _pinchZoom: function (e) {\n    this._glMap.jumpTo({\n      zoom: this._map.getZoom() - 1,\n      center: this._map.getCenter()\n    });\n  },\n\n  // borrowed from L.ImageOverlay\n  // https://github.com/Leaflet/Leaflet/blob/master/src/layer/ImageOverlay.js#L139-L144\n  _animateZoom: function (e) {\n    const scale = this._map.getZoomScale(e.zoom);\n    const padding = this._map\n      .getSize()\n      .multiplyBy(this.options.padding * scale);\n    const viewHalf = this.getSize()._divideBy(2);\n    // corrections for padding (scaled), adapted from\n    // https://github.com/Leaflet/Leaflet/blob/master/src/map/Map.js#L1490-L1508\n    const topLeft = this._map\n      .project(e.center, e.zoom)\n      ._subtract(viewHalf)\n      ._add(this._map._getMapPanePos().add(padding))\n      ._round();\n    const offset = this._map\n      .project(this._map.getBounds().getNorthWest(), e.zoom)\n      ._subtract(topLeft);\n\n    DomUtil.setTransform(\n      this._glMap._actualCanvas,\n      offset.subtract(this._offset),\n      scale\n    );\n  },\n\n  _zoomStart: function (e) {\n    this._zooming = true;\n  },\n\n  _zoomEnd: function () {\n    const scale = this._map.getZoomScale(this._map.getZoom());\n\n    DomUtil.setTransform(this._glMap._actualCanvas, null, scale);\n\n    this._zooming = false;\n\n    this._update();\n  },\n\n  _transitionEnd: function (e) {\n    Util.requestAnimFrame(function () {\n      const zoom = this._map.getZoom();\n      const center = this._map.getCenter();\n      const offset = this._map.latLngToContainerPoint(\n        this._map.getBounds().getNorthWest()\n      );\n\n      // reset the scale and offset\n      DomUtil.setTransform(this._glMap._actualCanvas, offset, 1);\n\n      // enable panning once the gl map is ready again\n      this._glMap.once(\n        'moveend',\n        Util.bind(function () {\n          this._zoomEnd();\n        }, this)\n      );\n\n      // update the map position\n      this._glMap.jumpTo({\n        center: center,\n        zoom: zoom - 1\n      });\n    }, this);\n  }\n});\n\nexport function maplibreGLJSLayer (options) {\n  return new MaplibreGLJSLayer(options);\n}\n","import { Layer, setOptions } from 'leaflet';\nimport { loadStyle, formatStyle, isWebMercator } from './Util';\nimport { maplibreGLJSLayer } from './MaplibreGLLayer';\n\nexport const VectorTileLayer = Layer.extend({\n  options: {\n    // if portalUrl is not provided, default to ArcGIS Online\n    portalUrl: 'https://www.arcgis.com',\n    // for performance optimization default to `false`\n    // set to `true` to resolve printing issues in Firefox\n    preserveDrawingBuffer: false\n  },\n\n  /**\n   * Populates \"this.options\" to be used in the rest of the module and creates the layer instance.\n   *\n   * @param {string} key an ITEM ID or SERVICE URL\n   * @param {object} options optional\n   */\n  initialize: function (key, options) {\n    if (options) {\n      setOptions(this, options);\n    }\n\n    // support outdated casing apiKey of apikey\n    if (this.options.apiKey) {\n      this.options.apikey = this.options.apiKey;\n    }\n\n    // if apiKey is passed in, propagate to token\n    // if token is passed in, propagate to apiKey\n    if (this.options.apikey) {\n      this.options.token = this.options.apikey;\n    } else if (this.options.token) {\n      this.options.apikey = this.options.token;\n    }\n\n    // if no key passed in\n    if (!key) {\n      throw new Error(\n        'An ITEM ID or SERVICE URL is required for vectorTileLayer.'\n      );\n    }\n\n    // set key onto \"this.options\" for use elsewhere in the module.\n    if (key) {\n      this.options.key = key;\n    }\n\n    // this.options has been set, continue on to create the layer:\n    this._createLayer();\n  },\n\n  /**\n   * Creates the maplibreGLJSLayer given using \"this.options\"\n   */\n  _createLayer: function () {\n    loadStyle(\n      this.options.key,\n      this.options,\n      function (error, style, styleUrl, service) {\n        if (error) {\n          this.fire('load-error', {\n            value: error\n          });\n          return;\n        }\n\n        if (!isWebMercator(service.tileInfo.spatialReference.wkid)) {\n          console.warn(\n            'This layer is not guaranteed to display properly because its service does not use the Web Mercator projection. The \"tileInfo.spatialReference\" property is:',\n            service.tileInfo.spatialReference,\n            '\\nMore information is available at https://github.com/maplibre/maplibre-gl-js/issues/168 and https://github.com/Esri/esri-leaflet-vector/issues/94.'\n          );\n        }\n\n        // once style object is loaded it must be transformed to be compliant with maplibreGLJSLayer\n        style = formatStyle(style, styleUrl, service, this.options.token);\n\n        this._createMaplibreLayer(style);\n      }.bind(this)\n    );\n  },\n\n  _setupAttribution: function () {\n    // if a custom attribution was not provided in the options,\n    // then attempt to rely on the attribution of the last source in the style object\n    // and add it to the map's attribution control\n    // (otherwise it would have already been added by leaflet to the attribution control)\n    if (!this.getAttribution()) {\n      const sources =\n        this._maplibreGL.getMaplibreMap().style.stylesheet.sources;\n      const sourcesKeys = Object.keys(sources);\n      this.options.attribution =\n        sources[sourcesKeys[sourcesKeys.length - 1]].attribution;\n      if (this._map && this._map.attributionControl) {\n        // NOTE: if attribution is an empty string (or otherwise falsy) at this point it would not appear in the attribution control\n        this._map.attributionControl.addAttribution(this.getAttribution());\n      }\n    }\n  },\n\n  _createMaplibreLayer: function (style) {\n    this._maplibreGL = maplibreGLJSLayer({\n      style: style,\n      pane: this.options.pane,\n      opacity: this.options.opacity,\n      preserveDrawingBuffer: this.options.preserveDrawingBuffer\n    });\n\n    this._ready = true;\n    this.fire('ready', {}, true);\n\n    this._maplibreGL.on(\n      'styleLoaded',\n      function () {\n        this._setupAttribution();\n        // additionally modify the style object with the user's optional style override function\n        if (this.options.style && typeof this.options.style === 'function') {\n          this._maplibreGL._glMap.setStyle(\n            this.options.style(this._maplibreGL._glMap.getStyle())\n          );\n        }\n      }.bind(this)\n    );\n  },\n\n  onAdd: function (map) {\n    this._map = map;\n\n    if (this._ready) {\n      this._asyncAdd();\n    } else {\n      this.once(\n        'ready',\n        function () {\n          this._asyncAdd();\n        },\n        this\n      );\n    }\n  },\n\n  onRemove: function (map) {\n    map.removeLayer(this._maplibreGL);\n  },\n\n  _asyncAdd: function () {\n    const map = this._map;\n    this._maplibreGL.addTo(map, this);\n  }\n});\n\nexport function vectorTileLayer (key, options) {\n  return new VectorTileLayer(key, options);\n}\n\nexport default vectorTileLayer;\n","import { Util } from 'esri-leaflet';\nimport {\n  getBasemapStyleUrl,\n  getAttributionData,\n  getBasemapStyleV2Url\n} from './Util';\nimport { VectorTileLayer } from './VectorTileLayer';\n\nconst POWERED_BY_ESRI_ATTRIBUTION_STRING =\n  'Powered by <a href=\"https://www.esri.com\">Esri</a>';\n\nexport const VectorBasemapLayer = VectorTileLayer.extend({\n  /**\n   * Populates \"this.options\" to be used in the rest of the module.\n   *\n   * @param {string} key\n   * @param {object} options optional\n   */\n  initialize: function (key, options) {\n    // Default to the v1 service endpoint\n    if (!options.version) {\n      if (key.includes('/')) options.version = 2;\n      else options.version = 1;\n    }\n    if (!key) {\n      // Default style enum if none provided\n      key = options.version === 1 ? 'ArcGIS:Streets' : 'arcgis/streets';\n    }\n    // If no API Key or token is provided (support outdated casing apiKey of apikey)\n    if (!(options.apikey || options.apiKey || options.token)) {\n      throw new Error(\n        'An API Key or token is required for vectorBasemapLayer.'\n      );\n    }\n    // Validate v2 service params\n    if (options.version !== 2) {\n      if (options.language) {\n        throw new Error(\n          'The language parameter is only supported by the basemap styles service v2. Provide a v2 style enumeration to use this option.'\n        );\n      }\n      if (options.worldview) {\n        throw new Error(\n          'The worldview parameter is only supported by the basemap styles service v2. Provide a v2 style enumeration to use this option.'\n        );\n      }\n      if (options.places) {\n        throw new Error(\n          'The places parameter is only supported by the basemap styles service v2. Provide a v2 style enumeration to use this option.'\n        );\n      }\n    }\n    // Determine layer order\n    if (!options.pane) {\n      if (key.includes(':Label') || key.includes('/label')) {\n        options.pane = 'esri-labels';\n      } else if (key.includes(':Detail') || key.includes('/detail')) {\n        options.pane = 'esri-detail';\n      } else {\n        // Create layer in the tilePane by default\n        options.pane = 'tilePane';\n      }\n    }\n\n    // Options has been configured, continue on to create the layer:\n    VectorTileLayer.prototype.initialize.call(this, key, options);\n  },\n\n  /**\n   * Creates the maplibreGLJSLayer using \"this.options\"\n   */\n  _createLayer: function () {\n    let styleUrl;\n    if (this.options.version && this.options.version === 2) {\n      styleUrl = getBasemapStyleV2Url(this.options.key, this.options.apikey, {\n        language: this.options.language,\n        worldview: this.options.worldview,\n        places: this.options.places,\n        baseUrl: this.options.baseUrl\n      });\n    } else {\n      styleUrl = getBasemapStyleUrl(this.options.key, this.options.apikey);\n    }\n    // show error warning on successful response for previous version(1)\n    if (this.options.version && this.options.version === 1) {\n      fetch(styleUrl)\n        .then((response) => {\n          return response.json();\n        })\n        .then((styleData) => {\n          if (styleData.error) {\n            console.warn('Error:', styleData.error.message);\n          }\n        })\n        .catch((error) => {\n          console.warn('Error:', error.message);\n        });\n    }\n    this._createMaplibreLayer(styleUrl);\n  },\n\n  _setupAttribution: function () {\n    if (this.options.key.length === 32) {\n      // this is an itemId\n      const sources =\n        this._maplibreGL.getMaplibreMap().style.stylesheet.sources;\n      const allAttributions = [];\n      Object.keys(sources).forEach(function (key) {\n        allAttributions.push(sources[key].attribution);\n        if (\n          sources[key].copyrightText &&\n          sources[key].copyrightText &&\n          sources[key].copyrightText !== '' &&\n          sources[key].attribution !== sources[key].copyrightText\n        ) {\n          allAttributions.push(sources[key].copyrightText);\n        }\n      });\n\n      // In the case of an enum, since the attribution is dynamic, Esri Leaflet\n      // will add the \"Powered by Esri\" string. But in this case we are not\n      // dynamic so we must add it ourselves.\n      this._map.attributionControl.addAttribution(\n        `<span class=\"esri-dynamic-attribution\">${POWERED_BY_ESRI_ATTRIBUTION_STRING} | ${allAttributions.join(\n          ', '\n        )}</span>`\n      );\n    } else {\n      // setup dynamic attribution\n      Util.setEsriAttribution(this._map);\n\n      // this is an enum\n      if (!this.options.attributionUrls) {\n        this.options.attributionUrls = this._getAttributionUrls(\n          this.options.key\n        );\n      }\n\n      if (this._map && this.options.attributionUrls) {\n        if (this._map.attributionControl) {\n          for (\n            let index = 0;\n            index < this.options.attributionUrls.length;\n            index++\n          ) {\n            const attributionUrl = this.options.attributionUrls[index];\n            getAttributionData(attributionUrl, this._map);\n          }\n\n          this._map.attributionControl.addAttribution(\n            '<span class=\"esri-dynamic-attribution\"></span>'\n          );\n        }\n        Util._updateMapAttribution({ target: this._map });\n      }\n    }\n  },\n\n  /**\n   * Given a key, return the attribution url(s).\n   * @param {string} key\n   */\n  _getAttributionUrls: function (key) {\n    if (key.indexOf('OSM:') === 0 || key.indexOf('osm/') === 0) {\n      return ['https://static.arcgis.com/attribution/Vector/OpenStreetMap_v2'];\n    } else if (\n      key.indexOf('ArcGIS:Imagery') === 0 ||\n      key.indexOf('arcgis/imagery') === 0\n    ) {\n      return [\n        'https://static.arcgis.com/attribution/World_Imagery',\n        'https://static.arcgis.com/attribution/Vector/World_Basemap_v2'\n      ];\n    }\n\n    // default:\n    return ['https://static.arcgis.com/attribution/Vector/World_Basemap_v2'];\n  },\n\n  _initPane: function () {\n    if (!this._map.getPane(this.options.pane)) {\n      const pane = this._map.createPane(this.options.pane);\n      pane.style.pointerEvents = 'none';\n\n      let zIndex = 500;\n      if (this.options.pane === 'esri-detail') {\n        zIndex = 250;\n      } else if (this.options.pane === 'esri-labels') {\n        zIndex = 300;\n      }\n      pane.style.zIndex = zIndex;\n    }\n  },\n\n  onRemove: function (map) {\n    map.off('moveend', Util._updateMapAttribution);\n    map.removeLayer(this._maplibreGL);\n\n    if (map.attributionControl) {\n      if (Util.removeEsriAttribution) Util.removeEsriAttribution(map);\n\n      const element = document.getElementsByClassName(\n        'esri-dynamic-attribution'\n      );\n\n      if (element && element.length > 0) {\n        const vectorAttribution = element[0].outerHTML;\n        // call removeAttribution twice here\n        // this is needed due to the 2 different ways that addAttribution is called inside _setupAttribution.\n        // leaflet attributionControl.removeAttribution method ignore a call when the attribution sent is not present there\n        map.attributionControl.removeAttribution(vectorAttribution);\n        map.attributionControl.removeAttribution(\n          '<span class=\"esri-dynamic-attribution\"></span>'\n        );\n      }\n    }\n  },\n\n  _asyncAdd: function () {\n    const map = this._map;\n    this._initPane();\n    map.on('moveend', Util._updateMapAttribution);\n    this._maplibreGL.addTo(map, this);\n  }\n});\n\nexport function vectorBasemapLayer (key, options) {\n  return new VectorBasemapLayer(key, options);\n}\n\nexport default vectorBasemapLayer;\n","// export version\nimport packageInfo from '../package.json';\nconst version = packageInfo.version;\nexport { version as VERSION };\n\nexport { VectorBasemapLayer, vectorBasemapLayer } from './VectorBasemapLayer';\nexport { VectorTileLayer, vectorTileLayer } from './VectorTileLayer';\nexport { EsriUtil as Util } from './Util';\nexport { MaplibreGLJSLayer, maplibreGLJSLayer, setRTLTextPlugin } from './MaplibreGLLayer';\n"],"names":["request","Support","latLng","latLngBounds","Util","maplibregl","Layer","setOptions","DomEvent","DomUtil","extend"],"mappings":"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"}